Unit DotNetDocLit;

{---------------------------------------------------------------------------
This file generated by the IndySoap WSDL -> Pascal translator

Source:   file://WsdlSamples\DotNetDocLit.wsdl
Date:     14/08/2013 8:44:19 AM
IndySoap: V2.00-000
Notes:
   * Service LookyBookService.LookyBookServiceHttpGet ignored as no SOAP Address was specified
   
   * Service LookyBookService.LookyBookServiceHttpPost ignored as no SOAP Address was specified
   
---------------------------------------------------------------------------}

Interface

Uses
  IdSoapClient,
  IdSoapRpcPacket,
  IdSoapTypeRegistry;

Type

  bookInfoVendorprice = class;
  bookInfo = class;

  bookInfoVendorpriceArray = array of bookInfoVendorprice;

  bookInfoVendorprice = class (TIdBaseSoapableClass)
  Private
    Fname : string;
    FsiteUrl : string;
    FpricePrefix : string;
    Fprice : string;
  Published
    property name : string read Fname write Fname;
    property siteUrl : string read FsiteUrl write FsiteUrl;
    property pricePrefix : string read FpricePrefix write FpricePrefix;
    property price : string read Fprice write Fprice;
  end;

  bookInfo = class (TIdBaseSoapableClass)
  Private
    Fisbn : string;
    Ftitle : string;
    Fauthor : string;
    Fpubdate : string;
    Fpublisher : string;
    FimgUrl : string;
    Ftimestamp : string;
    Fvendorprice : bookInfoVendorpriceArray;
  Public
    destructor Destroy; override;
    property vendorprice : bookInfoVendorpriceArray read Fvendorprice write Fvendorprice;
  Published
    property isbn : string read Fisbn write Fisbn;
    property title : string read Ftitle write Ftitle;
    property author : string read Fauthor write Fauthor;
    property pubdate : string read Fpubdate write Fpubdate;
    property publisher : string read Fpublisher write Fpublisher;
    property imgUrl : string read FimgUrl write FimgUrl;
    property timestamp : string read Ftimestamp write Ftimestamp;
  end;


{!
  Type: bookInfo = in http://dinoch.dyndns.org/bookService;
  Type: bookInfoVendorprice = in http://dinoch.dyndns.org/bookService;
  Type: bookInfoVendorpriceArray = in http://dinoch.dyndns.org/bookService;
}

type
  {Soap Address for this Interface: Multiple Addresses For this Interface (or Indeterminate)}
  ILookyBook = Interface (IIdSoapInterface) ['{2DC3032D-D59C-4F1F-A428-72C33F6B0624}']
       {!Namespace: http://dinoch.dyndns.org/webservices/;
         SoapAction: http://dinoch.dyndns.org/webservices/GetInfo;
         Encoding: Document}
    function  GetInfo(ISBN : string) : bookInfo; stdcall;
      {!Request: GetInfo; }
      {&retrieves book information for a given ISBN.  Returns an XML schema containing title, author, publisher, pubdate and other info.}
  end;

function GetILookyBook(AClient : TIdSoapBaseSender) : ILookyBook;

Implementation

Uses
  IdSoapRTTIHelpers,
  IdSoapUtilities,
  SysUtils;

{ bookInfo }

destructor bookInfo.destroy;
begin
  IdSoapFreeAndNilArray(pointer(Fvendorprice), TypeInfo(bookInfoVendorpriceArray));
  inherited;
end;


function GetILookyBook(AClient : TIdSoapBaseSender) : ILookyBook;
begin
  result := IdSoapD4Interface(AClient) as ILookyBook;
end;

Initialization
  IdSoapRegisterType(TypeInfo(bookInfoVendorpriceArray), '', TypeInfo(bookInfoVendorprice));
  IdSoapRegisterType(TypeInfo(bookInfoVendorprice));
  IdSoapRegisterType(TypeInfo(bookInfo));
  IdSoapRegisterProperty('bookInfo', 'vendorprice',
                   IdSoapFieldProp(@bookInfo(nil).Fvendorprice),
                   IdSoapFieldProp(@bookInfo(nil).Fvendorprice),
                   TypeInfo(bookInfoVendorpriceArray));
End.
