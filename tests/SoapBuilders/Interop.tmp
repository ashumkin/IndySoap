Unit Interop;

{---------------------------------------------------------------------------
This file generated by the IndySoap WSDL -> Pascal translator

Source:   file://SoapBuilders\Interop.wsdl
Date:     17/09/2013 8:26:22 AM
IndySoap: V2.00-000
---------------------------------------------------------------------------}

Interface

Uses
  Classes,
  IdSoapClient,
  IdSoapDateTime,
  IdSoapRpcPacket,
  IdSoapTypeRegistry;

Type

  SOAPStruct = class;

  ArrayOfSOAPStruct = array of SOAPStruct;
  ArrayOffloat = array of Single;
  ArrayOfint = array of Integer;
  ArrayOfstring = array of string;

  SOAPStruct = class (TIdBaseSoapableClass)
  Private
    FvarString : string;
    FvarInt : Integer;
    FvarFloat : Single;
  Published
    property varString : string read FvarString write FvarString;
    property varInt : Integer read FvarInt write FvarInt;
    property varFloat : Single read FvarFloat write FvarFloat;
  end;


{!
  Type: ArrayOffloat = in http://soapinterop.org/xsd;
  Type: ArrayOfint = in http://soapinterop.org/xsd;
  Type: ArrayOfSOAPStruct = in http://soapinterop.org/xsd;
  Type: ArrayOfstring = in http://soapinterop.org/xsd;
  Type: SOAPStruct = in http://soapinterop.org/xsd;
}

type
  {Soap Address for this Interface: http://localhost/soap/}
  Interop = Interface (IIdSoapInterface) ['{057FA35D-2A22-4FBB-9D28-D4961678A225}']
       {!Namespace: http://soapinterop.org/}
    function  echoString(inputString : string) : string; stdcall;
      {!Request: echoString; }
    function  echoStringArray(inputStringArray : ArrayOfstring) : ArrayOfstring; stdcall;
      {!Request: echoStringArray; }
    function  echoInteger(inputInteger : Integer) : Integer; stdcall;
      {!Request: echoInteger; }
    function  echoIntegerArray(inputIntegerArray : ArrayOfint) : ArrayOfint; stdcall;
      {!Request: echoIntegerArray; }
    function  echoFloat(inputFloat : Single) : Single; stdcall;
      {!Request: echoFloat; }
    function  echoFloatArray(inputFloatArray : ArrayOffloat) : ArrayOffloat; stdcall;
      {!Request: echoFloatArray; }
    function  echoStruct(inputStruct : SOAPStruct) : SOAPStruct; stdcall;
      {!Request: echoStruct; }
    function  echoStructArray(inputStructArray : ArrayOfSOAPStruct) : ArrayOfSOAPStruct; stdcall;
      {!Request: echoStructArray; }
    procedure echoVoid; stdcall;
      {!Request: echoVoid; }
    function  echoBase64(inputBase64 : TStream) : TStream; stdcall;
      {!Request: echoBase64; }
    function  echoDate(inputDate : TIdSoapDateTime) : TIdSoapDateTime; stdcall;
      {!Request: echoDate; }
  end;

function GetInterop(AClient : TIdSoapBaseSender; ASetUrl : Boolean = true) : Interop;

Implementation

Uses
  IdSoapRTTIHelpers,
  IdSoapUtilities,
  SysUtils;


function GetInterop(AClient : TIdSoapBaseSender; ASetUrl : Boolean = true) : Interop;
begin
  if ASetURL and (AClient is TIdSoapWebClient) then
    begin
    (AClient as TIdSoapWebClient).SoapURL := 'http://localhost/soap/';
    end;
  result := IdSoapD4Interface(AClient) as Interop;
end;

Initialization
  IdSoapRegisterType(TypeInfo(ArrayOfSOAPStruct), '', TypeInfo(SOAPStruct));
  IdSoapRegisterType(TypeInfo(SOAPStruct));
  IdSoapRegisterType(TypeInfo(ArrayOffloat), '', TypeInfo(Single));
  IdSoapRegisterType(TypeInfo(ArrayOfint), '', TypeInfo(Integer));
  IdSoapRegisterType(TypeInfo(ArrayOfstring), '', TypeInfo(string));
End.
